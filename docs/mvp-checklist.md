# オシカケ MVP リリースチェックリスト (DoD)

最終更新日: 2026年1月28日

## 概要

本ドキュメントは、MVP リリース前に確認すべき項目をまとめたチェックリストです。
すべての項目が完了していることを確認してからリリースを行います。

---

## 1. 機能要件

### 認証
- [ ] Google OAuth ログインが動作する
- [ ] ログアウトが正常に動作する
- [ ] 未認証ユーザーは保護ページにアクセスできない
- [ ] `returnTo` パラメータでログイン後に元のページに戻れる

### 試合一覧・詳細
- [ ] 過去の試合一覧が表示される
- [ ] 未来の試合一覧が表示される
- [ ] HOME/AWAYバッジが正しく表示される
- [ ] 試合詳細画面で試合情報が表示される
- [ ] 試合結果（スコア）が正しく表示される

### 観戦記録
- [ ] 「観戦した」を記録できる
- [ ] 費用（交通費・チケット・飲食・その他）を入力できる
- [ ] メモを入力できる
- [ ] 記録の編集ができる
- [ ] 記録の削除ができる

### 統計
- [ ] 観戦回数が正しく集計される
- [ ] 勝/分/敗が正しくカウントされる
- [ ] 合計費用が正しく計算される
- [ ] 平均費用が正しく計算される
- [ ] 年度フィルターが動作する

### プラン・課金
- [ ] Freeプランで7件まで記録できる
- [ ] 8件目で上限モーダルが表示される
- [ ] Stripe決済フローが動作する
- [ ] アップグレード後にプランが反映される
- [ ] Webhookでサブスクリプション状態が同期される

---

## 2. UIチェック

### レスポンシブ対応
- [ ] スマートフォン（375px）で正常表示
- [ ] タブレット（768px）で正常表示
- [ ] デスクトップ（1280px）で正常表示

### ナビゲーション
- [ ] すべてのナビリンクが動作する
- [ ] 現在のページがアクティブ表示される
- [ ] モバイルメニューが開閉する

### フォーム
- [ ] 入力バリデーションが動作する
- [ ] エラーメッセージが表示される
- [ ] 送信中はローディング表示される
- [ ] 成功時にトースト通知が表示される

### アクセシビリティ
- [ ] フォーカスが見える
- [ ] ボタンにaria-labelがある（アイコンのみの場合）
- [ ] 画像にalt属性がある

---

## 3. パフォーマンス

- [ ] 初回読み込み3秒以内
- [ ] ページ遷移がスムーズ
- [ ] 大量データでもスクロールが滑らか

---

## 4. セキュリティ

- [ ] HTTPS強制
- [ ] HttpOnly Cookie使用
- [ ] レート制限設定済み（API: 100/15分、Auth: 10/15分）
- [ ] Helmet設定済み
- [ ] 環境変数に機密情報を保存
- [ ] SQLインジェクション対策（Drizzle ORM使用）
- [ ] XSS対策（Reactの自動エスケープ）

---

## 5. 法務・ドキュメント

- [ ] プライバシーポリシーが公開されている
- [ ] 利用規約が公開されている
- [ ] サポートページに連絡先がある
- [ ] 匿名性・安全設計について説明がある

---

## 6. 運用準備

### 管理機能
- [ ] 管理者がログイン可能
- [ ] 同期ステータスが確認できる
- [ ] 課金ステータスが確認できる
- [ ] 試合情報を更新できる（Spreadsheet不要）

### 監視
- [ ] エラーログが記録される
- [ ] イベントログが記録される
- [ ] 決済失敗時にアラートが表示される

### バックアップ
- [ ] データベースバックアップ設定済み
- [ ] ロールバック手順が文書化されている

---

## 7. デプロイ

- [ ] ビルドエラーがない
- [ ] 本番環境変数が設定されている
- [ ] Stripeが本番モードになっている
- [ ] OAuthリダイレクトURLが本番URLになっている
- [ ] デプロイが正常に完了する

---

## 8. 最終確認

- [ ] 新規ユーザーフローを通しでテスト
- [ ] 既存ユーザーフローを通しでテスト
- [ ] エラーケースのハンドリング確認
- [ ] モバイルでの動作確認
- [ ] チームメンバーによるレビュー完了

---

## サインオフ

| 担当 | 確認日 | サイン |
|------|--------|--------|
| 開発 | | |
| QA | | |
| PM | | |

---

## 備考

- このチェックリストは継続的に更新される
- 追加の確認項目があれば随時追加
- 各項目の詳細は関連ドキュメントを参照
