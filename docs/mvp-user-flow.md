# オシカケ MVP ユーザーフロー定義

最終更新日: 2026年1月28日

## 概要

本ドキュメントは、オシカケMVP（Minimum Viable Product）のユーザーフローを定義します。
MVPでは「観戦記録」と「費用管理」の2つのコア機能に集中し、シンプルで使いやすい体験を提供します。

---

## ターゲットユーザー

- 横浜F・マリノスのサポーター
- 年間複数回スタジアム観戦する方
- 観戦費用を把握・管理したい方

---

## コアバリュー

1. **観戦記録の一元化** - 観た試合を簡単に記録
2. **費用の可視化** - いくら使ったか一目でわかる
3. **振り返りの楽しさ** - シーズンの観戦履歴を振り返る

---

## MVP ユーザーフロー

### 1. 初回訪問 → 会員登録

```
ランディングページ (/)
    ↓
「無料で始める」ボタン
    ↓
Googleアカウントで認証 (/signup → OAuth)
    ↓
ホーム画面 (/app)
```

**ポイント**:
- OAuth認証のみ（パスワード不要）
- 登録後すぐに使い始められる
- 初回ログイン時のオンボーディングは最小限

### 2. 試合を探す → 観戦記録

```
ホーム画面 (/app)
    ↓
「試合一覧」へ移動 (/matches)
    ↓
過去の試合を選択
    ↓
試合詳細画面 (/matches/:id)
    ↓
「観戦した」を選択 + 費用入力
    ↓
保存完了 → 統計に反映
```

**ポイント**:
- 試合一覧は過去/未来を切り替え可能
- HOME/AWAYバッジで一目で判別
- 費用は任意入力（入力しなくても記録可能）

### 3. 統計を見る

```
ナビゲーションから「統計」を選択 (/stats)
    ↓
年度別の観戦回数・勝敗・費用を確認
    ↓
（Plus/Pro）複数シーズンを比較
```

**ポイント**:
- 無料プランでも今シーズンの統計は閲覧可能
- 合計金額と平均金額を表示

### 4. アップグレード（任意）

```
ホーム画面のプランバッジをタップ
    ↓
プラン比較画面 (/pricing)
    ↓
「アップグレード」ボタン
    ↓
Stripe決済フロー
    ↓
即座にプラン反映
```

---

## 画面一覧

| パス | 画面名 | 認証 | 説明 |
|------|--------|------|------|
| `/` | ランディングページ | 不要 | サービス説明、FAQ、料金表 |
| `/login` | ログイン | 不要 | Google OAuth |
| `/signup` | 新規登録 | 不要 | Google OAuth |
| `/app` | ホーム | 必要 | ダッシュボード、クイックアクセス |
| `/matches` | 試合一覧 | 必要 | 過去/未来の試合リスト |
| `/matches/:id` | 試合詳細 | 必要 | 試合情報、観戦記録入力 |
| `/stats` | 統計 | 必要 | 観戦回数、勝敗、費用集計 |
| `/savings` | 貯金機能 | 必要 | 観戦貯金の管理 |
| `/pricing` | 料金プラン | 不要 | プラン比較、アップグレード |
| `/privacy` | プライバシー | 不要 | プライバシーポリシー |
| `/terms` | 利用規約 | 不要 | 利用規約 |
| `/support` | サポート | 不要 | お問い合わせ情報 |

---

## プラン別機能

| 機能 | Free | Plus | Pro |
|------|------|------|-----|
| 今シーズン観戦記録 | 7件 | 無制限 | 無制限 |
| 費用記録 | ○ | ○ | ○ |
| 基本統計 | ○ | ○ | ○ |
| 過去シーズン閲覧 | × | ○ | ○ |
| データエクスポート | × | × | ○ |
| 優先サポート | × | × | ○ |

---

## エラーハンドリング

### 無料プラン上限到達時
- 11件目の記録を試みると「上限に達しました」モーダル表示
- アップグレード導線を提示

### 認証エラー時
- ログインページにリダイレクト
- `returnTo`パラメータで元のページに戻れる

### ネットワークエラー時
- トースト通知でエラー表示
- 再試行を促すメッセージ

---

## 今後の拡張予定

### Phase 2
- 遠征プラン記録機能
- Apple認証対応

### Phase 3
- 傾向分析・レコメンド
- コミュニティ機能（匿名集計）
