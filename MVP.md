# MVP定義 / DoD（Oshika）

## このプロダクトがやりたいこと
**観戦の記録**と**観戦にかかる費用の記録**を残し、あとで振り返れる。  
その振り返りに必要な**試合結果**や**試合予定**も、同じサービスの中でまとめて見られる。

---

## 迷子防止チェック（Issue/実装前に必ず確認）
この変更は、次のどれを良くする？

- [ ] 観戦の記録（観戦日・メモ）を楽にする
- [ ] 観戦費用の記録を楽にする
- [ ] 振り返り（集計・一覧）を良くする
- [ ] 試合予定・結果を同じ場所で見られるようにする

**全部Noなら、MVP外（v0.2以降）または不要の可能性が高い。**

---

## MVPの範囲（MVPで必ず提供する価値）
### 価値1：観戦の記録を残せる
- どの試合を観たか（観戦日）
- その試合で使ったお金（費用合計）
- ひとことメモ（任意）

### 価値2：費用を振り返れる
- 合計
- 1試合あたり平均

### 価値3：振り返りに必要な試合情報を同じ場所で見られる
- 試合一覧（予定/結果）
- 試合詳細（対戦カード、会場、キックオフ、スコア等）

---

## MVPのユーザーストーリー
1. ユーザーは試合一覧から対象の試合を見つけられる
2. ユーザーは試合詳細で観戦記録（観戦日/費用/メモ）を保存できる
3. ユーザーはStatsで今季（年）の観戦数・勝分敗・支出を振り返れる
4. 失敗しても画面が落ちず、次に取るべき行動が分かる

---

## MVPの機能要件

### A) 試合一覧 / 試合詳細（閲覧）
- `/matches`：年ごとの一覧が表示される
- `/matches/:id`：試合情報（対戦カード/会場/キックオフ/スコアなど）が表示される
- データが不足していても画面が落ちない（欠損は「—」等で表示）

### B) 観戦記録（追加/編集/削除）
- 試合詳細で観戦記録を追加できる
- 既存の観戦記録を編集できる
- 観戦記録を削除できる（確認あり推奨）
- 入力項目（MVP固定）
  - 観戦日（必須）
  - 費用合計（必須、0以上）
  - メモ（任意）

### C) 集計（Stats）
- `/stats`：年ごとに以下を表示
  - 観戦数
  - 勝分敗（未確定含む）
  - 費用合計
  - 1試合あたり平均
- 0件の年は empty 表示（説明＋導線）

### D) 安定性/UX（MVP必須）
- API失敗時に落ちない（エラー表示＋再試行導線）
- モバイル幅で主要画面が崩れない（/matches, 詳細, /stats）

---

## MVPの非目標（MVPではやらない）
- 共有URL
- 凝ったグラフ/演出（最低限の集計が優先）
- 詳細な費用カテゴリ内訳（v0.2以降）
- 同期ログの管理画面（必要ならv0.2で）

---

## DoD（Definition of Done）
MVPは以下をすべて満たしたら完了。

- [ ] 試合一覧が見られる（年切替含む）
- [ ] 試合詳細が見られる（欠損があっても落ちない）
- [ ] 観戦記録（観戦日/費用/メモ）が追加/編集/削除できる
- [ ] Statsで観戦数/勝分敗/費用合計/平均が表示される（年切替、0件年対応）
- [ ] エラー表示が統一され、落ちない＆再試行できる
- [ ] モバイルでレイアウト崩れがない（主要3画面）
- [ ] リリース前チェックリストを実施し、結果が残っている（Issueコメントでも可）
